<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kinematics Animation Multithread: main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Kinematics Animation Multithread
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;igl/opengl/glfw/Viewer.h&gt;</code><br />
<code>#include &lt;igl/opengl/glfw/imgui/ImGuiPlugin.h&gt;</code><br />
<code>#include &lt;igl/opengl/glfw/imgui/ImGuiMenu.h&gt;</code><br />
<code>#include &lt;igl/opengl/glfw/imgui/ImGuiHelpers.h&gt;</code><br />
<code>#include &lt;igl/slim.h&gt;</code><br />
<code>#include &quot;<a class="el" href="euler__rotations_8h_source.html">./include/euler_rotations.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="exoskeleton_8h_source.html">./include/exoskeleton.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="menu__handler_8h_source.html">./include/menu_handler.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="animated__hand_8h_source.html">./include/animated_hand.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kinematic__animation_8h_source.html">./include/kinematic_animation.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp__incl.png" border="0" usemap="#amain_8cpp" alt=""/></div>
<map name="amain_8cpp" id="amain_8cpp">
<area shape="rect" title=" " alt="" coords="1256,5,1339,32"/>
<area shape="rect" title=" " alt="" coords="1575,408,1655,435"/>
<area shape="rect" title=" " alt="" coords="1282,408,1345,435"/>
<area shape="rect" title=" " alt="" coords="2425,333,2604,360"/>
<area shape="rect" title=" " alt="" coords="37,244,195,285"/>
<area shape="rect" title=" " alt="" coords="219,244,378,285"/>
<area shape="rect" title=" " alt="" coords="402,244,561,285"/>
<area shape="rect" title=" " alt="" coords="1296,87,1379,114"/>
<area shape="rect" href="euler__rotations_8h.html" title=" " alt="" coords="1453,333,1643,360"/>
<area shape="rect" href="exoskeleton_8h.html" title=" " alt="" coords="1173,251,1345,278"/>
<area shape="rect" href="menu__handler_8h.html" title=" " alt="" coords="787,169,973,196"/>
<area shape="rect" href="animated__hand_8h.html" title=" " alt="" coords="1369,244,1511,285"/>
<area shape="rect" href="kinematic__animation_8h.html" title=" " alt="" coords="1587,80,1733,121"/>
<area shape="rect" title=" " alt="" coords="2313,408,2463,435"/>
<area shape="rect" title=" " alt="" coords="1225,333,1276,360"/>
<area shape="rect" title=" " alt="" coords="1087,333,1151,360"/>
<area shape="rect" href="utils_8h.html" title=" " alt="" coords="637,333,699,360"/>
<area shape="rect" href="serial__com_8h.html" title=" " alt="" coords="775,333,881,360"/>
<area shape="rect" title=" " alt="" coords="527,408,601,435"/>
<area shape="rect" title=" " alt="" coords="625,408,711,435"/>
<area shape="rect" title=" " alt="" coords="735,408,803,435"/>
<area shape="rect" title=" " alt="" coords="828,408,945,435"/>
<area shape="rect" title=" " alt="" coords="687,251,764,278"/>
<area shape="rect" title=" " alt="" coords="1719,333,1793,360"/>
<area shape="rect" title=" " alt="" coords="1817,333,1908,360"/>
<area shape="rect" title=" " alt="" coords="788,251,855,278"/>
<area shape="rect" title=" " alt="" coords="879,251,953,278"/>
<area shape="rect" title=" " alt="" coords="978,251,1041,278"/>
<area shape="rect" title=" " alt="" coords="1065,251,1149,278"/>
<area shape="rect" href="hand_8h.html" title=" " alt="" coords="1801,169,1868,196"/>
<area shape="rect" title=" " alt="" coords="2033,333,2188,360"/>
<area shape="rect" href="dynamics__math_8h.html" title=" " alt="" coords="2212,333,2351,360"/>
<area shape="rect" href="finger_8h.html" title=" " alt="" coords="1909,251,1981,278"/>
<area shape="rect" title=" " alt="" coords="2149,408,2289,435"/>
</map>
</div>
</div>
<p><a href="main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the main execution function. It first initiates the libigl viewer and then calls the menu handler from ImGui. It then defines the exoskeleton handlers and defines the callback function for the rendering loop. For a better understanding of the dependencies see the provided call graph.  <a href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the main execution function. It first initiates the libigl viewer and then calls the menu handler from ImGui. It then defines the exoskeleton handlers and defines the callback function for the rendering loop. For a better understanding of the dependencies see the provided call graph. </p>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00022">22</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span>{</div>
<div class="line"><span class="lineno">   24</span>  <span class="comment">// Initialize viewer</span></div>
<div class="line"><span class="lineno">   25</span>  igl::opengl::glfw::Viewer viewer;</div>
<div class="line"><span class="lineno">   26</span> </div>
<div class="line"><span class="lineno">   27</span>  <span class="comment">// Attach a menu plugin</span></div>
<div class="line"><span class="lineno">   28</span>  igl::opengl::glfw::imgui::ImGuiPlugin plugin;</div>
<div class="line"><span class="lineno">   29</span>  viewer.plugins.push_back(&amp;plugin);</div>
<div class="line"><span class="lineno">   30</span>  igl::opengl::glfw::imgui::ImGuiMenu menu;</div>
<div class="line"><span class="lineno">   31</span>  plugin.widgets.push_back(&amp;menu);</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>  <span class="comment">// Menu handler</span></div>
<div class="line"><span class="lineno">   34</span>  <a class="code hl_class" href="classMenuHandler.html">MenuHandler</a> menu_handler(&amp;menu);</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>  <span class="comment">// Generate lamda function pointing to the menu callback</span></div>
<div class="line"><span class="lineno">   37</span>  <span class="keyword">auto</span> lamda_menu_fun = [&amp;menu_handler]() { <span class="keywordflow">return</span> menu_handler.callback(); };</div>
<div class="line"><span class="lineno">   38</span>  menu.callback_draw_viewer_menu = lamda_menu_fun;</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>  <span class="comment">// Initialize left exoskeleton handle</span></div>
<div class="line"><span class="lineno">   41</span>  <a class="code hl_class" href="classExoskeleton.html">Exoskeleton</a> left_exoskeleton;</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>  <span class="comment">// Initialize animated hand handler</span></div>
<div class="line"><span class="lineno">   44</span>  <a class="code hl_class" href="classAnimatedHand.html">AnimatedHand</a> anim_hand; </div>
<div class="line"><span class="lineno">   45</span>  </div>
<div class="line"><span class="lineno">   46</span>  <span class="comment">// Initialize kinematic animation </span></div>
<div class="line"><span class="lineno">   47</span>  <a class="code hl_class" href="classKinematicAnimation.html">KinematicAnimation</a> ka;</div>
<div class="line"><span class="lineno">   48</span>  ka.<a class="code hl_function" href="classKinematicAnimation.html#a0707faec63ab078b72ed122d601b0656">initialize</a>(&amp;viewer, &amp;left_exoskeleton, &amp;anim_hand, &amp;menu_handler);</div>
<div class="line"><span class="lineno">   49</span>  </div>
<div class="line"><span class="lineno">   50</span>  <span class="comment">// Generate lamda function pointing to the animation loop member function</span></div>
<div class="line"><span class="lineno">   51</span>  <span class="keyword">auto</span> lamda_anim_fun =</div>
<div class="line"><span class="lineno">   52</span>      [&amp;ka](igl::opengl::glfw::Viewer&amp; viewer) { <span class="keywordflow">return</span> ka.<a class="code hl_function" href="classKinematicAnimation.html#aeecbf92a1bb99909d8c262274cc5f123">animation_loop</a>(viewer); };</div>
<div class="line"><span class="lineno">   53</span>  </div>
<div class="line"><span class="lineno">   54</span>  <span class="comment">// Set animation</span></div>
<div class="line"><span class="lineno">   55</span>  viewer.data().show_overlay_depth = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   56</span>  viewer.data().line_width = 1;</div>
<div class="line"><span class="lineno">   57</span>  viewer.data().show_lines = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   58</span>  viewer.callback_pre_draw = lamda_anim_fun;</div>
<div class="line"><span class="lineno">   59</span>  viewer.core().is_animating = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   60</span>  viewer.core().animation_max_fps = 30;</div>
<div class="line"><span class="lineno">   61</span>  viewer.launch();</div>
<div class="line"><span class="lineno">   62</span>}</div>
<div class="ttc" id="aclassAnimatedHand_html"><div class="ttname"><a href="classAnimatedHand.html">AnimatedHand</a></div><div class="ttdef"><b>Definition:</b> <a href="animated__hand_8h_source.html#l00009">animated_hand.h:10</a></div></div>
<div class="ttc" id="aclassExoskeleton_html"><div class="ttname"><a href="classExoskeleton.html">Exoskeleton</a></div><div class="ttdoc">Class Exoskeleton.</div><div class="ttdef"><b>Definition:</b> <a href="exoskeleton_8h_source.html#l00019">exoskeleton.h:20</a></div></div>
<div class="ttc" id="aclassKinematicAnimation_html"><div class="ttname"><a href="classKinematicAnimation.html">KinematicAnimation</a></div><div class="ttdoc">Class KinematicAnimation.</div><div class="ttdef"><b>Definition:</b> <a href="kinematic__animation_8h_source.html#l00015">kinematic_animation.h:16</a></div></div>
<div class="ttc" id="aclassKinematicAnimation_html_a0707faec63ab078b72ed122d601b0656"><div class="ttname"><a href="classKinematicAnimation.html#a0707faec63ab078b72ed122d601b0656">KinematicAnimation::initialize</a></div><div class="ttdeci">void initialize(igl::opengl::glfw::Viewer *viewer, Exoskeleton *left_exo, AnimatedHand *anim_hand, MenuHandler *menu_handler)</div><div class="ttdoc">Initialize animation.</div><div class="ttdef"><b>Definition:</b> <a href="kinematic__animation_8cpp_source.html#l00011">kinematic_animation.cpp:11</a></div></div>
<div class="ttc" id="aclassKinematicAnimation_html_aeecbf92a1bb99909d8c262274cc5f123"><div class="ttname"><a href="classKinematicAnimation.html#aeecbf92a1bb99909d8c262274cc5f123">KinematicAnimation::animation_loop</a></div><div class="ttdeci">bool animation_loop(igl::opengl::glfw::Viewer &amp;viewer)</div><div class="ttdoc">Animation loop callback.</div><div class="ttdef"><b>Definition:</b> <a href="kinematic__animation_8cpp_source.html#l00036">kinematic_animation.cpp:36</a></div></div>
<div class="ttc" id="aclassMenuHandler_html"><div class="ttname"><a href="classMenuHandler.html">MenuHandler</a></div><div class="ttdoc">Class MenuHandler.</div><div class="ttdef"><b>Definition:</b> <a href="menu__handler_8h_source.html#l00022">menu_handler.h:23</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp_a840291bc02cba5474a4cb46a9b9566fe_cgraph.png" border="0" usemap="#amain_8cpp_a840291bc02cba5474a4cb46a9b9566fe_cgraph" alt=""/></div>
<map name="amain_8cpp_a840291bc02cba5474a4cb46a9b9566fe_cgraph" id="amain_8cpp_a840291bc02cba5474a4cb46a9b9566fe_cgraph">
<area shape="rect" title="This is the main execution function. It first initiates the libigl viewer and then calls the menu han..." alt="" coords="5,283,60,309"/>
<area shape="rect" href="classKinematicAnimation.html#aeecbf92a1bb99909d8c262274cc5f123" title="Animation loop callback." alt="" coords="116,155,271,197"/>
<area shape="rect" href="classMenuHandler.html#a425100756a8e8bfae6ed09827767505b" title="Menu callback function." alt="" coords="108,283,279,309"/>
<area shape="rect" href="classKinematicAnimation.html#a0707faec63ab078b72ed122d601b0656" title="Initialize animation." alt="" coords="116,334,271,375"/>
<area shape="rect" href="classMenuHandler.html#a0d1a6b3c99aabe3e3d2f88e3a6b15b15" title="Check whether the USB ports have been sent by the user (Is OK pressed?)." alt="" coords="327,5,532,32"/>
<area shape="rect" href="classAnimatedHand.html#a99c8b2deb828f1167682661a93a33009" title=" " alt="" coords="336,57,523,98"/>
<area shape="rect" href="classExoskeleton.html#a28cfac80989e1548d0fcec09e2c5b1d6" title="Get joint angles." alt="" coords="346,122,513,163"/>
<area shape="rect" href="classKinematicAnimation.html#ab2c55c0784b15b88a01d853851afaf7a" title="Setup exoskeletons." alt="" coords="350,187,509,229"/>
<area shape="rect" href="classHand.html#a0f7a476cf2f950429b05940506fb66bd" title="It updates the hand vertices based on the euler angles for its skeleton joints. These are fed through..." alt="" coords="375,253,484,280"/>
<area shape="rect" href="classUtils.html#ade242e15e15094b75fdb9d5163eb8a5b" title="Convert degrees to rad." alt="" coords="615,20,729,47"/>
<area shape="rect" href="classExoskeleton.html#ae3bd5db26fae85588e9a7efd202ced50" title="Read incoming data." alt="" coords="812,155,981,197"/>
<area shape="rect" href="classUtils.html#a6e7193f2c602f2f8e1553c2cfefe9979" title="Convert comma&#45;delimited string to double vector of analog values." alt="" coords="1029,155,1185,197"/>
<area shape="rect" href="classMenuHandler.html#a99ef8b4eed51bb9d82fec9f8243f9674" title="Get the USB port for the left exoskeleton." alt="" coords="589,122,755,163"/>
<area shape="rect" href="classMenuHandler.html#a48e6fb0053eab65d523920d1c1b2bc6b" title="Get the USB port for the right exoskeleton." alt="" coords="585,187,759,229"/>
<area shape="rect" href="classExoskeleton.html#a16bc036a0caad1882dd602d047b1d843" title="Initialize." alt="" coords="589,253,755,280"/>
<area shape="rect" href="classHand.html#a913d356ed0d9a5881aeed9f66ccb88b5" title="Initialize the hand." alt="" coords="612,304,732,331"/>
<area shape="rect" href="classHand.html#a8b16b01c62b6275ac869d1e442be8104" title="This function offset a set of vertices by a given offset." alt="" coords="580,355,764,381"/>
<area shape="rect" href="classMenuHandler.html#a169a4ba92e72cd6c5a699151ea4e0bf0" title="Get available USB ports." alt="" coords="327,305,532,346"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
